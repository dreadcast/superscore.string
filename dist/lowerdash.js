!function(n){if("function"==typeof require){var t=require("lodash");"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t)}else var t=n._;t.mixin({from:function(n){return t.isArray(n)||t.isArguments(n)||(n=[n]),t.toArray(n)},penultimate:function(n){return n.length>1?n[n.length-2]:null},joinLast:function(n,t,e){var r=n.pop();return n.join(t)+e+r},getFromPath:function(n,t){t=t.split(".");for(var e=0,r=t.length;r>e;e++){if(!hasOwnProperty.call(n,t[e]))return null;n=n[t[e]]}return n},setFromPath:function(n,t,e){for(var r=t.split("."),i=n,s=0,a=r.length;a>s;s++)a-1>s&&!n.hasOwnProperty(r[s])&&(n[r[s]]={}),s==a-1?n[r[s]]=e:n=n[r[s]];return i},eraseFromPath:function(n,t){for(var e=t.split("."),r=n,i=0,s=e.length;s>i&&n.hasOwnProperty(e[i]);i++)if(s-1>i)n=n[e[i]];else if(i==s-1){delete n[e[i]];break}return r},deepmerge:t.merge,keyOf:function(n,t){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&n[e]===t)return e;return null},isLaxEqual:function(n,e){return t.isArray(n)&&(n=t.uniq(n.sort())),t.isArray(e)&&(e=t.uniq(e.sort())),t.isEqual(n,e)},isIterable:function(n){return t.isObject(n)&&!t.isFunction(n)&&!t.isArray(n)},isJson:function(n){return t.isString(n)&&t.isObject(JSON.parse(n))},isClass:function(n){return"Class"==n.name},isInstance:function(n){return"Class"==n.constructor.name},isShit:function(n){return t.isArray(n)&&0==_compact(n).length?!0:t.contains([null,"null",void 0,"",!1,"false",0,"0"],n)},eachParallel:function(n,e,r,i){var s=n.length,a=function(){s--,0==s&&r()};t.isIterable(n)?t.each(n,function(t,r,s){e.call(i||n,t,r,s,a,n)}):t.each(n,function(t,r){e.call(i||n,t,r,a,n)})},eachDelayed:function(n,e,r,i,s){return t.eachAsync(n,function(){setTimeout(function(){e.apply(this,arguments)},i)},r,s)},eachInterval:t.eachDelayed,eachAsync:function(n,e,r,i){if(0==t.size(n))return r.call(i);if(t.isIterable(n))var s=t.keys(n),a=t.values(n);var u=0,l=function(){var o;u>=t.size(n)?o=function(){}:u==t.size(n)-1&&t.isFunction(r)?o=function(){r.call(i||this),l.call(this)}.bind(this):u<t.size(n)&&(o=l.bind(this)),u<t.size(n)&&(t.isIterable(n)?e.call(i||this,a[u],s[u],u,o,this):e.call(i||this,this[u],u,o,this)),u++};return l.call(n),n},closest:function(n,t){if((e=n.length)<2)return l-1;for(var e,r=Math.abs(n[--e]-t);e--&&!(r<(r=Math.abs(n[e]-t))););return n[e+1]},replaceAt:function(n,t,e){return n.splice(e,1,t),n},insertAt:function(n,t,e){return n.splice(e,0,t),n},attempt:function(n){try{var e=t.from(arguments);return e.shift(),n.apply(this,e)}catch(r){return!1}}})}(Function("return this")());